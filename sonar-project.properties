# SonarQube Configuration for Solace Agent Mesh
# This file configures SonarQube analysis for both Python backend and TypeScript/React UI

sonar.projectKey=SolaceLabs_solace-agent-mesh
sonar.projectName=solace-agent-mesh

# =============================================================================
# Source Configuration
# =============================================================================

# Python sources (main application code)
sonar.sources=src/

# Python test directories
sonar.tests=tests/

# =============================================================================
# Coverage Configuration
# =============================================================================

# Python coverage report (XML format from pytest-cov)
sonar.python.coverage.reportPaths=coverage.xml

# JavaScript/TypeScript coverage report (LCOV format from Vitest)
sonar.javascript.lcov.reportPaths=client/webui/frontend/coverage/lcov.info

# =============================================================================
# Exclusions
# =============================================================================

# Exclude from analysis
sonar.exclusions=\
  **/node_modules/**,\
  **/dist/**,\
  **/static/**,\
  **/build/**,\
  **/*.min.js,\
  **/*.min.css,\
  **/vendor/**,\
  **/__pycache__/**,\
  **/*.pyc,\
  **/migrations/**,\
  **/templates/**,\
  **/evaluation/**,\
  **/cli/**

# Test file patterns to exclude from main source analysis
sonar.test.exclusions=\
  **/node_modules/**,\
  **/dist/**,\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  **/*.stories.tsx,\
  **/*.stories.ts,\
  **/tests/**,\
  **/__tests__/**,\
  **/test_*.py,\
  **/*_test.py

# =============================================================================
# Language-specific settings
# =============================================================================

# Python version
sonar.python.version=3.10,3.11,3.12,3.13

# TypeScript/JavaScript file suffixes
sonar.typescript.file.suffixes=.ts,.tsx
sonar.javascript.file.suffixes=.js,.jsx

# =============================================================================
# Quality Gate
# =============================================================================

# Use the default quality gate or specify a custom one
# sonar.qualitygate.wait=true

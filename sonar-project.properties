# SonarQube Configuration for Solace Agent Mesh
# This file covers both Python backend and TypeScript/JavaScript frontend
sonar.projectKey=${env.SONARQUBE_PROJECT_KEY}
sonar.projectName=Solace Agent Mesh
sonar.projectVersion=1.0

# Source code configuration
# Backend: src, cli
# Frontend: client/webui/frontend/src
sonar.sources=src,cli,client/webui/frontend/src
sonar.tests=tests,client/webui/frontend/src/stories

# Python specific settings
sonar.python.version=3.10,3.11,3.13

# File inclusions/exclusions
sonar.exclusions=**/tests/**,**/__pycache__/**,**/node_modules/**,**/dist/**,**/.venv/**,**/venv/**,**/*.test.ts,**/*.test.tsx,**/*.stories.ts,**/*.stories.tsx,**/main.tsx,**/coverage/**,**/storybook-static/**
sonar.test.inclusions=tests/**/*.py,**/*.test.ts,**/*.test.tsx,**/*.stories.ts,**/*.stories.tsx
# Exclude __init__.py files from coverage (mostly empty or just imports)
# Files with substantial code in __init__.py (like cli/commands/init_cmd/__init__.py)
# will still show in coverage if they have meaningful logic beyond imports
sonar.coverage.exclusions=**/tests/**,**/__pycache__/**,**/node_modules/**,**/dist/**,**/*.test.ts,**/*.test.tsx,**/*.stories.ts,**/*.stories.tsx,**/main.tsx,**/__init__.py

# Coverage reports
# Backend Python coverage (XML format)
sonar.python.coverage.reportPaths=coverage.xml
# Frontend JavaScript/TypeScript coverage (LCOV format)
# Coverage is generated by vitest running both unit tests and Storybook interaction tests
# Storybook stories test components and generate coverage for the components they interact with
sonar.javascript.lcov.reportPaths=client/webui/frontend/coverage/lcov.info

# Language settings
sonar.sourceEncoding=UTF-8

# Temp
sonar.branch.name=feat/sonarqube-coverage-integration
test_case_id: "prompts_duplicate_command_001"
description: "Creating prompt with duplicate command fails with 400"
tags: ["prompts", "api", "validation"]

expected_http_responses:
  - description: "Create first prompt with unique command"
    request:
      method: "POST"
      path: "/api/v1/prompts/groups"
      json_body:
        name: "First Duplicate Test"
        command: "dup-cmd-test-unique"
        initial_prompt: "First prompt content"
    expected_status_code: 201
    expected_json_body_matches:
      command: "dup-cmd-test-unique"

  - description: "Attempt to create second prompt with same command"
    request:
      method: "POST"
      path: "/api/v1/prompts/groups"
      json_body:
        name: "Second Duplicate Test"
        command: "dup-cmd-test-unique"
        initial_prompt: "Second prompt content"
    expected_status_code: 400